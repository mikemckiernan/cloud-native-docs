<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NVIDIA vGPU &mdash; NVIDIA Cloud Native Technologies  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/nvidia.ico"/>
    <link rel="canonical" href="https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/install-gpu-operator-vgpu.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/js/google-analytics/google-analytics-tracker.js"></script>
        <script src="../_static/js/google-analytics/google-analytics-write.js"></script>
        <script src="//assets.adobedtm.com/b92787824f2e0e9b68dc2e993f9bd995339fe417/satelliteLib-7ba51e58dc61bcb0e9311aadd02a0108ab24cc6c.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NVIDIA AI Enterprise" href="install-gpu-operator-nvaie.html" />
    <link rel="prev" title="GPU Driver Upgrades" href="gpu-driver-upgrades.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" > 
            <a href="../contents.html">
            <img src="../_static/NVLogo_H_B&W.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #76b900;
    }

    .wy-side-nav-search a:link, .wy-nav-top a:link {
      color: #fff;
    }
    .wy-side-nav-search a:visited, .wy-nav-top a:visited {
      color: #fff;
    }
    .wy-side-nav-search a:hover, .wy-nav-top a:hover {
      color: #fff;
    }

    .wy-menu-vertical a:link, .wy-menu-vertical a:visited {
      color: #d9d9d9
    }

    .wy-menu-vertical a:active {
      background-color: #76b900
    }

    .wy-side-nav-search>div.version {
      color: rgba(0, 0, 0, 0.3)
    }

    .wy-nav-content {
      max-width: 1000px;
    }
  </style>
  
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">NVIDIA Container Toolkit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/arch-overview.html">Architecture Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/install-guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/user-guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-toolkit/archive.html">Archive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NVIDIA GPU Operator:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform-support.html">Platform Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu-driver-upgrades.html">GPU Driver Upgrades</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">NVIDIA vGPU</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about-installing-the-operator-and-nvidia-vgpu">About Installing the Operator and NVIDIA vGPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="#platform-support">Platform Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-vgpu-software">Download vGPU Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-the-driver-container">Build the Driver Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-the-cluster-with-the-vgpu-license-information-and-the-driver-container-image">Configure the Cluster with the vGPU License Information and the Driver Container Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install-gpu-operator-nvaie.html">NVIDIA AI Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="openshift/contents.html">GPU Operator on OpenShift</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu-operator-mig.html">GPU Operator with MIG</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu-sharing.html">Time-Slicing GPUs in Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu-operator-rdma.html">GPUDirect RDMA and GPUDirect Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu-operator-kubevirt.html">GPU Operator with KubeVirt</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Advanced Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="archive.html">Archive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Kubernetes with GPUs:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/install-k8s.html">Install Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/mig-k8s.html">MIG Support in Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/anthos-guide.html">NVIDIA GPUs with Google Cloud’s Anthos</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NVIDIA GPUs and Red Hat Device Edge</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../edge/nvidia-gpu-with-device-edge.html">Accelerating workloads with NVIDIA GPUs with Red Hat Device Edge</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">GPU Telemetry:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gpu-telemetry/dcgm-exporter.html">DCGM-Exporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu-telemetry/dcgm-exporter.html#integrating-gpu-telemetry-into-kubernetes">Integrating GPU Telemetry into Kubernetes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Multi-Instance GPU:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mig/mig.html">Multi-Instance GPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mig/mig-k8s.html">MIG Support in Kubernetes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Driver Containers:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driver-containers/overview.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Playground:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../playground/dind.html">Docker-in-Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../playground/x-arch.html">Running Cross-Architecture Containers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">NVIDIA Cloud Native Technologies</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home"></a> &raquo;</li>
      <li>NVIDIA vGPU</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nvidia-vgpu">
<span id="install-gpu-operator-vgpu"></span><h1>NVIDIA vGPU<a class="headerlink" href="#nvidia-vgpu" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#about-installing-the-operator-and-nvidia-vgpu" id="id1">About Installing the Operator and NVIDIA vGPU</a></p></li>
<li><p><a class="reference internal" href="#platform-support" id="id2">Platform Support</a></p></li>
<li><p><a class="reference internal" href="#prerequisites" id="id3">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#download-vgpu-software" id="id4">Download vGPU Software</a></p></li>
<li><p><a class="reference internal" href="#build-the-driver-container" id="id5">Build the Driver Container</a></p></li>
<li><p><a class="reference internal" href="#configure-the-cluster-with-the-vgpu-license-information-and-the-driver-container-image" id="id6">Configure the Cluster with the vGPU License Information and the Driver Container Image</a></p></li>
<li><p><a class="reference internal" href="#next-steps" id="id7">Next Steps</a></p></li>
</ul>
</div>
<section id="about-installing-the-operator-and-nvidia-vgpu">
<h2>About Installing the Operator and NVIDIA vGPU<a class="headerlink" href="#about-installing-the-operator-and-nvidia-vgpu" title="Permalink to this heading"></a></h2>
<p>This document provides an overview of the workflow to getting started with using the GPU Operator with NVIDIA vGPU.</p>
<p>NVIDIA vGPU is only supported with the NVIDIA License System.</p>
<p>The installation steps assume <code class="docutils literal notranslate"><span class="pre">gpu-operator</span></code> as the default namespace for installing the NVIDIA GPU Operator.
In case of Red Hat OpenShift Container Platform, the default namespace is <code class="docutils literal notranslate"><span class="pre">nvidia-gpu-operator</span></code>.
Change the namespace shown in the commands accordingly based on your cluster configuration.
Also replace <code class="docutils literal notranslate"><span class="pre">kubectl</span></code> in the below commands with <code class="docutils literal notranslate"><span class="pre">oc</span></code> when running on RedHat OpenShift.</p>
<p>The following list outlines the high-level steps to use the NVIDIA GPU Operator with NVIDIA vGPUs.</p>
</section>
<section id="platform-support">
<h2>Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this heading"></a></h2>
<p>For information about the supported platforms, see <a class="reference internal" href="platform-support.html#supported-deployment-options-hypervisors-and-nvidia-vgpu-based-products"><span class="std std-ref">Supported Deployment Options, Hypervisors, and NVIDIA vGPU Based Products</span></a>.</p>
<p>For Red Hat OpenShift Virtualization, see <a class="reference internal" href="openshift/openshift-virtualization.html#nvidia-gpu-operator-with-openshift-virtualization"><span class="std std-ref">NVIDIA GPU Operator with OpenShift Virtualization</span></a>.</p>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>You must have access to the NVIDIA Enterprise Application Hub at <a class="reference external" href="https://nvid.nvidia.com/dashboard/">https://nvid.nvidia.com/dashboard/</a> and the NVIDIA Licensing Portal.</p></li>
<li><p>Your organization must have an instance of a Cloud License Service (CLS) or a Delegated License Service (DLS).</p></li>
<li><p>You must generate and download a client configuration token for your CLS instance or DLS instance.
Refer to the <a class="reference external" href="https://docs.nvidia.com/license-system/latest/nvidia-license-system-quick-start-guide/"><em>NVIDIA License System Quick Start Guide</em></a> for information about generating a token.</p></li>
<li><p>You have access to a private container registry, such as NVIDIA NGC Private Registry, and can push container images to the registry.</p></li>
</ul>
</section>
<section id="download-vgpu-software">
<h2>Download vGPU Software<a class="headerlink" href="#download-vgpu-software" title="Permalink to this heading"></a></h2>
<p>Perform the following steps to download the vGPU software and the latest NVIDIA vGPU driver catalog file from the NVIDIA Licensing Portal.</p>
<ol class="arabic simple">
<li><p>Log in to the NVIDIA Enterprise Application Hub at <a class="reference external" href="https://nvid.nvidia.com/dashboard">https://nvid.nvidia.com/dashboard</a> and then click <strong>NVIDIA LICENSING PORTAL</strong>.</p></li>
<li><p>In the left navigation pane of the NVIDIA Licensing Portal, click <strong>SOFTWARE DOWNLOADS</strong>.</p></li>
<li><p>Locate <strong>vGPU Driver Catalog</strong> in the table of driver downloads and click <strong>Download</strong>.</p></li>
<li><p>Click the <strong>PRODUCT FAMILY</strong> menu and select <strong>vGPU</strong> to filter the downloads to vGPU only.</p></li>
<li><p>Locate the vGPU software for your platform in the table of software downloads and click <strong>Download</strong>.</p></li>
</ol>
<p>The vGPU software is packaged as a ZIP file.
Unzip the file to obtain the NVIDIA vGPU Linux guest driver.
The guest driver file name follows the pattern <code class="docutils literal notranslate"><span class="pre">NVIDIA-Linux-x86_64-&lt;version&gt;-grid.run</span></code>.</p>
</section>
<section id="build-the-driver-container">
<h2>Build the Driver Container<a class="headerlink" href="#build-the-driver-container" title="Permalink to this heading"></a></h2>
<p>Perform the following steps to build and push a container image that includes the vGPU Linux guest driver.</p>
<ol class="arabic">
<li><p>Clone the driver container repository and change directory into the repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://gitlab.com/nvidia/container-images/driver
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>driver
</pre></div>
</div>
</li>
<li><p>Change directory to the operating system name and version under the driver directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>ubuntu20.04
</pre></div>
</div>
<p>For Red Hat OpenShift Container Platform, use a directory that includes <code class="docutils literal notranslate"><span class="pre">rhel</span></code> in the directory name.</p>
</li>
<li><p>Copy the NVIDIA vGPU guest driver from your extracted ZIP file and the NVIDIA vGPU driver catalog file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp<span class="w"> </span>&lt;local-driver-download-directory&gt;/*-grid.run<span class="w"> </span>drivers/
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp<span class="w"> </span>vgpuDriverCatalog.yaml<span class="w"> </span>drivers/
</pre></div>
</div>
</li>
<li><p>Set environment variables for building the driver container image.</p>
<ul>
<li><p>Specify your private registry URL:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">PRIVATE_REGISTRY</span><span class="o">=</span>&lt;private-registry-url&gt;
</pre></div>
</div>
</li>
<li><p>Specify the <code class="docutils literal notranslate"><span class="pre">OS_TAG</span></code> environment variable to identify the guest operating system name and version:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">OS_TAG</span><span class="o">=</span>ubuntu20.04
</pre></div>
</div>
<p>The value must match the guest operating system version.
For Red Hat OpenShift Container Platform, specify <code class="docutils literal notranslate"><span class="pre">rhcos4.&lt;x&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">x</span></code> is the supported minor OCP version.
Refer to <a class="reference internal" href="platform-support.html#supported-operating-systems-and-kubernetes-platforms"><span class="std std-ref">Supported Operating Systems and Kubernetes Platforms</span></a> for the list of supported OS distributions.</p>
</li>
<li><p>Specify the driver container image tag, such as <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.0.0
</pre></div>
</div>
<p>The specified value can be any user-defined value.
The value is used to install the Operator in a subsequent step.</p>
</li>
<li><p>Specify the version of the CUDA base image to use when building the driver container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">CUDA_VERSION</span><span class="o">=</span><span class="m">11</span>.8.0
</pre></div>
</div>
<p>The CUDA version only specifies which base image is used to build the driver container.
The version does not have any correlation to the version of CUDA that is associated with or supported by the
resulting driver container.</p>
</li>
<li><p>Specify the Linux guest vGPU driver version that you downloaded from the NVIDIA Licensing Portal and append <code class="docutils literal notranslate"><span class="pre">-grid</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">VGPU_DRIVER_VERSION</span><span class="o">=</span><span class="m">525</span>.60.13-grid
</pre></div>
</div>
<p>The Operator automatically selects the compatible guest driver version from the drivers bundled with the <code class="docutils literal notranslate"><span class="pre">driver</span></code> image.
If you disable the version check by specifying <code class="docutils literal notranslate"><span class="pre">--build-arg</span> <span class="pre">DISABLE_VGPU_VERSION_CHECK=true</span></code> when you build the driver image,
then the <code class="docutils literal notranslate"><span class="pre">VGPU_DRIVER_VERSION</span></code> value is used as default.</p>
</li>
</ul>
</li>
<li><p>Build the driver container image:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--build-arg<span class="w"> </span><span class="nv">DRIVER_TYPE</span><span class="o">=</span>vgpu<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--build-arg<span class="w"> </span><span class="nv">DRIVER_VERSION</span><span class="o">=</span><span class="nv">$VGPU_DRIVER_VERSION</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--build-arg<span class="w"> </span><span class="nv">CUDA_VERSION</span><span class="o">=</span><span class="nv">$CUDA_VERSION</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--build-arg<span class="w"> </span><span class="nv">TARGETARCH</span><span class="o">=</span>amd64<span class="w"> </span><span class="se">\ </span><span class="w"> </span><span class="c1"># amd64 or arm64</span>
<span class="go">    -t ${PRIVATE_REGISTRY}/driver:${VERSION}-${OS_TAG} .</span>
</pre></div>
</div>
</li>
<li><p>Push the driver container image to your private registry.</p>
<ol class="upperalpha">
<li><p>Log in to your private registry:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>docker<span class="w"> </span>login<span class="w"> </span><span class="si">${</span><span class="nv">PRIVATE_REGISTRY</span><span class="si">}</span><span class="w"> </span>--username<span class="o">=</span>&lt;username&gt;
</pre></div>
</div>
<p>Enter your password when prompted.</p>
</li>
<li><p>Push the driver container image to your private registry:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>docker<span class="w"> </span>push<span class="w"> </span><span class="si">${</span><span class="nv">PRIVATE_REGISTRY</span><span class="si">}</span>/driver:<span class="si">${</span><span class="nv">VERSION</span><span class="si">}</span>-<span class="si">${</span><span class="nv">OS_TAG</span><span class="si">}</span>
</pre></div>
</div>
</li>
</ol>
</li>
</ol>
</section>
<section id="configure-the-cluster-with-the-vgpu-license-information-and-the-driver-container-image">
<h2>Configure the Cluster with the vGPU License Information and the Driver Container Image<a class="headerlink" href="#configure-the-cluster-with-the-vgpu-license-information-and-the-driver-container-image" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Create an NVIDIA vGPU license file named <code class="docutils literal notranslate"><span class="pre">gridd.conf</span></code> with contents like the following example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># Description: Set Feature to be enabled
# Data type: integer
# Possible values:
# 0 =&gt; for unlicensed state
# 1 =&gt; for NVIDIA vGPU
# 2 =&gt; for NVIDIA RTX Virtual Workstation
# 4 =&gt; for NVIDIA Virtual Compute Server
FeatureType=1
</pre></div>
</div>
</li>
<li><p>Rename the client configuration token file that you downloaded to <code class="docutils literal notranslate"><span class="pre">client_configuration_token.tok</span></code>
using a command like the following example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp<span class="w"> </span>~/Downloads/client_configuration_token_03-28-2023-16-16-36.tok<span class="w"> </span>client_configuration_token.tok
</pre></div>
</div>
<p>The file must be named <code class="docutils literal notranslate"><span class="pre">client_configuraton_token.tok</span></code>.</p>
</li>
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">gpu-operator</span></code> namespace:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>kubectl<span class="w"> </span>create<span class="w"> </span>namespace<span class="w"> </span>gpu-operator
</pre></div>
</div>
</li>
<li><p>Create a config map that is named <code class="docutils literal notranslate"><span class="pre">licensing-config</span></code> using the <code class="docutils literal notranslate"><span class="pre">gridd.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">client_configuration_token.tok</span></code> files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>kubectl<span class="w"> </span>create<span class="w"> </span>configmap<span class="w"> </span>licensing-config<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-n<span class="w"> </span>gpu-operator<span class="w"> </span>--from-file<span class="o">=</span>gridd.conf<span class="w"> </span>--from-file<span class="o">=</span>client_configuration_token.tok
</pre></div>
</div>
</li>
<li><p>Create an image pull secret in the <code class="docutils literal notranslate"><span class="pre">gpu-operator</span></code> namespace with the registry secret and private registry.</p>
<ol class="upperalpha">
<li><p>Set an environment variable with the name of the secret:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">REGISTRY_SECRET_NAME</span><span class="o">=</span>registry-secret
</pre></div>
</div>
</li>
<li><p>Create the secret:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>docker-registry<span class="w"> </span><span class="si">${</span><span class="nv">REGISTRY_SECRET_NAME</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--docker-server<span class="o">=</span><span class="si">${</span><span class="nv">PRIVATE_REGISTRY</span><span class="si">}</span><span class="w"> </span>--docker-username<span class="o">=</span>&lt;username&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--docker-password<span class="o">=</span>&lt;password&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--docker-email<span class="o">=</span>&lt;email-id&gt;<span class="w"> </span>-n<span class="w"> </span>gpu-operator
</pre></div>
</div>
</li>
</ol>
<p>You need to specify the secret name <code class="docutils literal notranslate"><span class="pre">REGISTRY_SECRET_NAME</span></code> when you install the GPU Operator with Helm.</p>
</li>
</ol>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this heading"></a></h2>
<p>Refer to <a class="reference internal" href="../kubernetes/anthos-guide.html#install-gpu-operator"><span class="std std-ref">Install NVIDIA GPU Operator</span></a> to install the GPU Operator on Kubernetes using a Helm chart.</p>
<p>Refer to <a class="reference internal" href="openshift/install-gpu-ocp.html#install-nvidiagpu"><span class="std std-ref">Installing the NVIDIA GPU Operator</span></a> to install the GPU Operator using NVIDIA vGPU on Red Hat OpenShift Container Platform.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gpu-driver-upgrades.html" class="btn btn-neutral float-left" title="GPU Driver Upgrades" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install-gpu-operator-nvaie.html" class="btn btn-neutral float-right" title="NVIDIA AI Enterprise" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2023, NVIDIA Corporation.
      <span class="lastupdated">Last updated on 2023-04-25.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
  a:link, a:visited {
    color: #76b900;
  }

  a:hover {
    color: #8c0;
  }

  .rst-content dl:not(.docutils) dt {
    background: rgba(118, 185, 0, 0.1);
    color: rgba(59,93,0,1);
    border-top: solid 3px rgba(59,93,0,1);
  }
  </style>
  

</body>
</html>